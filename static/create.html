<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz App</title>
    <!-- React and ReactDOM CDN -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

    <!-- Babel Standalone CDN for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css"
    />
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      // QuizApp component
      function CreateQuiz() {
        const [quizName, setQuizName] = React.useState("");
        const [success, setSuccess] = React.useState(false);

        async function createQuiz() {
          const response = await fetch(`/quiz`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },

            body: JSON.stringify({ quiz_name: quizName }),
          });

          if (response.status == 200) {
            setSuccess(true);
          }
        }

        return (
          <div>
            <input type="text" onInput={(e) => setQuizName(e.target.value)} />
            <button onClick={createQuiz}>Create Quiz</button>
            {success && (
              <a href={`quiz.html?quizname=${quizName}`}>Go to {quizName} </a>
            )}
          </div>
        );
      }

      // Render the QuizApp component into the root div
      ReactDOM.render(<CreateQuiz />, document.getElementById("root"));
    </script>
  </body>
</html>
